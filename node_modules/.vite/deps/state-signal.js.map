{
  "version": 3,
  "sources": ["../../.pnpm/state-signal@0.0.3_@types+node@22.10.1/node_modules/state-signal/dist/index.es.js"],
  "sourcesContent": ["const c = [];\nlet u = /* @__PURE__ */ new Set(), o = !1;\nfunction d() {\n  for (const t of u)\n    t();\n  u.clear(), o = !1;\n}\nfunction g(t, e = {}) {\n  const { history: s = !0, maxHistory: a = 10 } = e;\n  let l = t;\n  const f = /* @__PURE__ */ new Set(), n = s ? [t] : [];\n  return {\n    get value() {\n      const r = c[c.length - 1];\n      return r && f.add(r), l;\n    },\n    set value(r) {\n      if (l !== r) {\n        l = r, s && (n.push(r), n.length > a && n.shift());\n        for (const i of f)\n          o ? u.add(i) : i();\n        o || (o = !0, Promise.resolve().then(d));\n      }\n    },\n    /**\n     * Gets the current signal's history upto N snapshots, where N is maxHistory or a historical value of the signal.\n     * @param delta - If positive, returns the current value. If negative, returns the historical value `delta` steps back.\n     * @returns The requested history or `null` if out of bounds or history is disabled.\n     */\n    history(r = 0) {\n      if (!s)\n        return console.warn(\"History is deactivated for this signal.\"), null;\n      if (r >= 0) return n;\n      const i = Math.abs(r);\n      return i <= n.length ? n.reverse()[i] : (console.error(\n        `state signal error: Requested history index (${r}) exceeds current size (${n.length}). Consider using an index between -${n.length} and -1.`\n      ), null);\n    }\n  };\n}\nfunction h(t) {\n  const e = () => {\n    s(), c.push(e);\n    try {\n      t();\n    } finally {\n      c.pop();\n    }\n  }, s = () => {\n    for (const a of e.trackedSignals || [])\n      a.subscribers.delete(e);\n    e.trackedSignals = [];\n  };\n  e.trackedSignals = [], e();\n}\nfunction v(t) {\n  const e = g(null);\n  return h(() => {\n    e.value = t();\n  }), {\n    get value() {\n      return e.value;\n    },\n    set value(s) {\n      console.error(\n        \"Error: Derived signals are computed values and cannot be manually updated.\"\n      );\n    }\n  };\n}\nexport {\n  g as createSignal,\n  v as derived,\n  h as effect\n};\n//# sourceMappingURL=index.es.js.map\n"],
  "mappings": ";AAAA,IAAM,IAAI,CAAC;AACX,IAAI,IAAoB,oBAAI,IAAI;AAAhC,IAAmC,IAAI;AACvC,SAAS,IAAI;AACX,aAAW,KAAK;AACd,MAAE;AACJ,IAAE,MAAM,GAAG,IAAI;AACjB;AACA,SAAS,EAAE,GAAG,IAAI,CAAC,GAAG;AACpB,QAAM,EAAE,SAAS,IAAI,MAAI,YAAY,IAAI,GAAG,IAAI;AAChD,MAAI,IAAI;AACR,QAAM,IAAoB,oBAAI,IAAI,GAAG,IAAI,IAAI,CAAC,CAAC,IAAI,CAAC;AACpD,SAAO;AAAA,IACL,IAAI,QAAQ;AACV,YAAM,IAAI,EAAE,EAAE,SAAS,CAAC;AACxB,aAAO,KAAK,EAAE,IAAI,CAAC,GAAG;AAAA,IACxB;AAAA,IACA,IAAI,MAAM,GAAG;AACX,UAAI,MAAM,GAAG;AACX,YAAI,GAAG,MAAM,EAAE,KAAK,CAAC,GAAG,EAAE,SAAS,KAAK,EAAE,MAAM;AAChD,mBAAW,KAAK;AACd,cAAI,EAAE,IAAI,CAAC,IAAI,EAAE;AACnB,cAAM,IAAI,MAAI,QAAQ,QAAQ,EAAE,KAAK,CAAC;AAAA,MACxC;AAAA,IACF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAMA,QAAQ,IAAI,GAAG;AACb,UAAI,CAAC;AACH,eAAO,QAAQ,KAAK,yCAAyC,GAAG;AAClE,UAAI,KAAK,EAAG,QAAO;AACnB,YAAM,IAAI,KAAK,IAAI,CAAC;AACpB,aAAO,KAAK,EAAE,SAAS,EAAE,QAAQ,EAAE,CAAC,KAAK,QAAQ;AAAA,QAC/C,gDAAgD,CAAC,2BAA2B,EAAE,MAAM,uCAAuC,EAAE,MAAM;AAAA,MACrI,GAAG;AAAA,IACL;AAAA,EACF;AACF;AACA,SAAS,EAAE,GAAG;AACZ,QAAM,IAAI,MAAM;AACd,MAAE,GAAG,EAAE,KAAK,CAAC;AACb,QAAI;AACF,QAAE;AAAA,IACJ,UAAE;AACA,QAAE,IAAI;AAAA,IACR;AAAA,EACF,GAAG,IAAI,MAAM;AACX,eAAW,KAAK,EAAE,kBAAkB,CAAC;AACnC,QAAE,YAAY,OAAO,CAAC;AACxB,MAAE,iBAAiB,CAAC;AAAA,EACtB;AACA,IAAE,iBAAiB,CAAC,GAAG,EAAE;AAC3B;AACA,SAAS,EAAE,GAAG;AACZ,QAAM,IAAI,EAAE,IAAI;AAChB,SAAO,EAAE,MAAM;AACb,MAAE,QAAQ,EAAE;AAAA,EACd,CAAC,GAAG;AAAA,IACF,IAAI,QAAQ;AACV,aAAO,EAAE;AAAA,IACX;AAAA,IACA,IAAI,MAAM,GAAG;AACX,cAAQ;AAAA,QACN;AAAA,MACF;AAAA,IACF;AAAA,EACF;AACF;",
  "names": []
}
